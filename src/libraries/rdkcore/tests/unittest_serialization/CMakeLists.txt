IF(CPPUNIT_FOUND)
	MACRO(TEST testname)
		SET(OUTBIN "${testname}")
		ADD_EXECUTABLE(${OUTBIN} ${testname}.cpp utils.cpp)
		TARGET_LINK_LIBRARIES(${OUTBIN} rdkcore)
		TARGET_LINK_LIBRARIES(${OUTBIN} ${CPPUNIT_LIBRARIES})	
		ADD_TEST(${testname} ${OUTBIN})
	ENDMACRO(TEST)

	RDK_ADD_TEST(test_binary)
	RDK_ADD_TEST(unittest_1bin)
	RDK_ADD_TEST(unittest_1xml)
	RDK_ADD_TEST(unittest_2)
	RDK_ADD_TEST(unittest_testcases)
	RDK_ADD_TEST(unittest_bad)
	RDK_ADD_TEST(unittest_sanity)
	RDK_ADD_TEST(unittest_naninf)
ENDIF(CPPUNIT_FOUND)
